<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>NCEPLIBS-g2: getg2i.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-g2
   &#160;<span id="projectnumber">3.4.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('getg2i_8f.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">getg2i.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This subroutine read a GRIB2 index file and return its content.  
<a href="#details">More...</a></p>

<p><a href="getg2i_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a44c16f665d204ab2236a58ef37bc8b13"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getg2i_8f.html#a44c16f665d204ab2236a58ef37bc8b13">getg2i</a> (LUGI, CBUF, NLEN, NNUM, IRET)</td></tr>
<tr class="memdesc:a44c16f665d204ab2236a58ef37bc8b13"><td class="mdescLeft">&#160;</td><td class="mdescRight">READ A GRIB2 INDEX FILE AND RETURN ITS CONTENTS.  <a href="#a44c16f665d204ab2236a58ef37bc8b13">More...</a><br/></td></tr>
<tr class="separator:a44c16f665d204ab2236a58ef37bc8b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This subroutine read a GRIB2 index file and return its content. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Iredell </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1995-10-31 </dd></dl>

<p>Definition in file <a class="el" href="getg2i_8f_source.html">getg2i.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="a44c16f665d204ab2236a58ef37bc8b13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getg2i </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>LUGI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=1), dimension(:), pointer&#160;</td>
          <td class="paramname"><em>CBUF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>NLEN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>NNUM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>IRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>READ A GRIB2 INDEX FILE AND RETURN ITS CONTENTS. </p>
<p>VERSION 1 OF THE INDEX FILE HAS THE FOLLOWING FORMAT: 81-BYTE S.LORD HEADER WITH 'GB2IX1' IN COLUMNS 42-47 FOLLOWED BY 81-BYTE HEADER WITH NUMBER OF BYTES TO SKIP BEFORE INDEX RECORDS, TOTAL LENGTH IN BYTES OF THE INDEX RECORDS, NUMBER OF INDEX RECORDS, AND GRIB FILE BASENAME WRITTEN IN FORMAT ('IX1FORM:',3I10,2X,A40). EACH FOLLOWING INDEX RECORD CORRESPONDS TO A GRIB MESSAGE AND HAS THE INTERNAL FORMAT:</p>
<ul>
<li>BYTE 001 - 004 LENGTH OF INDEX RECORD</li>
<li>BYTE 005 - 008 BYTES TO SKIP IN DATA FILE BEFORE GRIB MESSAGE</li>
<li>BYTE 009 - 012 BYTES TO SKIP IN MESSAGE BEFORE LUS (LOCAL USE) SET = 0, IF NO LOCAL USE SECTION IN GRIB2 MESSAGE.</li>
<li>BYTE 013 - 016 BYTES TO SKIP IN MESSAGE BEFORE GDS</li>
<li>BYTE 017 - 020 BYTES TO SKIP IN MESSAGE BEFORE PDS</li>
<li>BYTE 021 - 024 BYTES TO SKIP IN MESSAGE BEFORE DRS</li>
<li>BYTE 025 - 028 BYTES TO SKIP IN MESSAGE BEFORE BMS</li>
<li>BYTE 029 - 032 BYTES TO SKIP IN MESSAGE BEFORE DATA SECTION</li>
<li>BYTE 033 - 040 BYTES TOTAL IN THE MESSAGE</li>
<li>BYTE 041 - 041 GRIB VERSION NUMBER (CURRENTLY 2)</li>
<li>BYTE 042 - 042 MESSAGE DISCIPLINE</li>
<li>BYTE 043 - 044 FIELD NUMBER WITHIN GRIB2 MESSAGE</li>
<li>BYTE 045 - II IDENTIFICATION SECTION (IDS)</li>
<li>BYTE II+1- JJ GRID DEFINITION SECTION (GDS)</li>
<li>BYTE JJ+1- KK PRODUCT DEFINITION SECTION (PDS)</li>
<li>BYTE KK+1- LL THE DATA REPRESENTATION SECTION (DRS)</li>
<li>BYTE LL+1-LL+6 FIRST 6 BYTES OF THE BIT MAP SECTION (BMS)</li>
</ul>
<p>PROGRAM HISTORY LOG:</p>
<ul>
<li>1995-10-31 Mark Iredell</li>
<li>1996-10-31 Mark Iredell AUGMENTED OPTIONAL DEFINITIONS TO BYTE 320</li>
<li>2002-01-03 Stephen Gilbert MODIFIED FROM GETGI TO WORK WITH GRIB2</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">LUGI</td><td>INTEGER UNIT OF THE UNBLOCKED GRIB INDEX FILE </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CBUF</td><td>CHARACTER*1 POINTER TO A BUFFER THAT CONTAINS INDEX RECORDS. USERS SHOULD FREE MEMORY THAT CBUF POINTS TO, USING DEALLOCATE(CBUF) WHEN CBUF IS NO LONGER NEEDED. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">NLEN</td><td>INTEGER TOTAL LENGTH OF ALL INDEX RECORDS </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">NNUM</td><td>INTEGER NUMBER OF INDEX RECORDS </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IRET</td><td>INTEGER RETURN CODE<ul>
<li>0 ALL OK</li>
<li>2 NOT ENOUGH MEMORY TO HOLD INDEX BUFFER</li>
<li>3 ERROR READING INDEX FILE BUFFER</li>
<li>4 ERROR READING INDEX FILE HEADER</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>SUBPROGRAM CAN BE CALLED FROM A MULTIPROCESSING ENVIRONMENT. DO NOT ENGAGE THE SAME LOGICAL UNIT FROM MORE THAN ONE PROCESSOR.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Mark Iredell </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-05-26 </dd></dl>

<p>Definition at line <a class="el" href="getg2i_8f_source.html#l00056">56</a> of file <a class="el" href="getg2i_8f_source.html">getg2i.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a></li><li class="navelem"><a class="el" href="dir_b90aa5a6084b86bdb838378bc1dc161c.html">Hang.Lei</a></li><li class="navelem"><a class="el" href="dir_a172c4a69c8c4fc64ef5d9224f684072.html">noscrub</a></li><li class="navelem"><a class="el" href="dir_dd819178255f7a9ad49a3b8867a6c150.html">docus</a></li><li class="navelem"><a class="el" href="dir_648917924aeb9ce7c1fc0528dd2caf69.html">feature</a></li><li class="navelem"><a class="el" href="dir_d016ec1399c85acecef32bf81e1fad9c.html">dox</a></li><li class="navelem"><a class="el" href="dir_a7b3ebe721b8c60c479822a40383d337.html">src</a></li><li class="navelem"><a class="el" href="getg2i_8f.html">getg2i.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
